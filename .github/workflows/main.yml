# name: Record Stream and Push

# on:
#   workflow_dispatch:
#   schedule:
#     - cron: "50 8 * * *"   # tiap hari jam 16:50 UTC (~17:00 WITA)

# jobs:
#   record:
#     runs-on: ubuntu-latest

#     steps:
#       - name: Checkout repo
#         uses: actions/checkout@v4
#         with:
#           token: ${{ secrets.MY_TOKEN }}   # pakai token custom, bukan default GITHUB_TOKEN

#       - name: Setup Python
#         uses: actions/setup-python@v5
#         with:
#           python-version: '3.x'

#       - name: Install dependencies
#         run: |
#           pip install -r requirements.txt

#       - name: Install ffmpeg
#         run: |
#           sudo apt-get update
#           sudo apt-get install -y ffmpeg

#       - name: Run recorder
#         env:
#           MY_ACC: ${{ secrets.MY_ACC }}
#           MY_PASS: ${{ secrets.MY_PASS }}
#         run: |
#           python record.py

#       - name: Commit & Push JSON log
#         run: |
#           git config --global user.name "github-actions[bot]"
#           git config --global user.email "github-actions[bot]@users.noreply.github.com"
#           git add recording.json
#           git commit -m "Update log at $(date -u +"%Y-%m-%d %H:%M:%S UTC")" || echo "No changes to commit"
#           git push origin HEAD:main

